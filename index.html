<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="HELMET: How to Evaluate Long-Context Language Models Effectively and Thoroughly">
  <meta name="keywords" content="HELMET, Large Language Models, Long-Context">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HELMET</title>
  
  <script src="https://kit.fontawesome.com/854f31a6c4.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="./static/css/dataTables.bulma.css">
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <style>
    .orange-symbol {
      color: #E77500;
    }
    .blue-symbol {
      color: #00C7FD;
    }
    #table-container-agg {
      width: 95%;
      margin: 0 auto;
      display: flex;
      justify-content: center;
    }
    .dataTables_wrapper {
      width: 100%;
    }
    .button.is-dark.active {
      background-color: #E77500 !important;
    }
    .category-btn, .dataset-btn {
      transition: background-color 0.3s ease;
    }
  </style>
</head>


<body>

<!-- paper title and author -->
<section class="section no_pad_section">
  <!-- <div class="hero-body"> -->
    <div class="container is-max-desktop no_max_width">
      <div class="columns is-centered">
        <div class="column has-text-centered is-four-fifths">
          <h1 class="title is-1 publication-title">
            <span></span>
          </h1>
          <br>  
          <h2 class="subtitle is-3 publication-subtitle">
            <img src="./static/images/logo.jpeg" alt="logo" width="30"/>
            <span><span class="orange-symbol"><b>HELMET</b></span>: How to Evaluate Long-Context Language Models Effectively and Thoroughly</span>
          </h2>
          <div class="is-size-5 publication-authors">

            <span class="author-block">
              <a href="https://howard-yen.github.io/">
                <span class="fancy_text_color">Howard Yen</span>
              </a><sup><span class="orange-symbol">&spades;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://gaotianyu.xyz/about/">
                <span class="fancy_text_color">Tianyu Gao</span>
              </a><sup><span class="orange-symbol">&spades;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://scholar.google.com/citations?user=TDWUh9MAAAAJ">
                <span class="fancy_text_color">Minmin Hou</span>
              </a><sup><span class="blue-symbol">&clubs;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://scholar.google.com/citations?user=143et9UAAAAJ">
                <span class="fancy_text_color">Ke Ding</span>
              </a><sup><span class="blue-symbol">&clubs;</span></sup>,
            </span>


            <br>

            <span class="author-block">
              <a href="https://www.linkedin.com/in/daniel-fleischer/?originalSubdomain=il">
                <span class="fancy_text_color">Daniel Fleischer</span>
              </a><sup><span class="blue-symbol">&clubs;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://peteriz.github.io/">
                <span class="fancy_text_color">Peter Izsak</span>
              </a><sup><span class="blue-symbol">&clubs;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://scholar.google.com/citations?user=V5ohkLUAAAAJ&hl=en">
                <span class="fancy_text_color">Moshe Wasserblat</span>
              </a><sup><span class="blue-symbol">&clubs;</span></sup>,
            </span>

            <span class="author-block">
              <a href="https://www.cs.princeton.edu/~danqic/">
                <span class="fancy_text_color">Danqi Chen</span>
              </a><sup><span class="orange-symbol">&spades;</span></sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup><span class="orange-symbol">&spades;</span></sup>Princeton Language and Intelligence (PLI), Princeton University</span><br>
            <span class="author-block"><sup><span class="blue-symbol">&clubs;</span></sup>Intel</span>
          </div>

          <div class="column has-text-centered">
            <p class="is-size-5"><b>ICLR 2025</b></p>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- arxiv link -->
              <span class="link-block">
                <a href="https://arxiv.org/abs/2410.02694"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/princeton-nlp/HELMET"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
              <!-- Data Link. -->
              <span class="link-block">
                <a href="https://github.com/princeton-nlp/HELMET"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fa fa-database"></i>
                  </span>
                  <span>Data</span>
                </a>
              </span>
              <!-- Leaderboard Link. -->
              <span class="link-block">
                <a href="#leaderboard"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fa fa-trophy"></i>
                  </span>
                  <span>Leaderboard</span>
                </a>
              </span>
              <!-- Examples Link. -->
              <span class="link-block">
                <a href="#full_examples"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fa fa-list-ul"></i>
                  </span>
                  <span>Examples</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>

      <section class="hero teaser has-text-centered">
        <div class="container is-max-desktop">
          <div class="hero-body">
            <img src="./static/images/data_summary.png" width="60%"/>
  
            <p style="width: 70%; margin-left: auto; margin-right: auto">
              Overview of the HELMET datasets, which consists of seven categories derived from realistic applications. 
          </div>
        </div>
      </section>
    </div>
</section>

<section class="section no_pad_section">
  <div class="container" style="margin-bottom: 2vh;">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-9">
        <h2 class="title is-3">Introduction</h2>
        <div class="content has-text-justified">
          <p> There have been many benchmarks for evaluating long-context language
            models (LCLMs), but developers often rely on synthetic tasks like needle-in-a-haystack (NIAH) or arbitrary subsets of tasks. 
          </p>
          <p>
            We present HELMET (How to Evaluate Long-context Models Effectively and Thoroughly), a comprehensive benchmark encompassing seven diverse, application-centric categories. We also address many issues in previous benchmarks by adding controllable lengths up to 128k tokens, model-based evaluation for reliable metrics, and few-shot prompting for robustly evaluating base models.
          </p>
          <p>
            Through a comprehensive study of 59 LCLMs, we find that (1) synthetic tasks like NIAH are not good predictors of downstream performance; (2) the diverse categories in HELMET exhibit distinct trends and low correlation with each other; and (3) while most LCLMs achieve perfect NIAH scores, open-source models significantly lag behind closed ones when the task requires full-context reasoning or following complex instructionsâ€”the gap widens with increased lengths.
          </p>
        </div>
        <br>
        <h2 class="title is-3" id="leaderboard"> Leaderboard: Overall Performance</h2>
        <div class="content has-text-justified">
          <p> <b>Table: Average performance across seven categories</b> on HELMET at <b>128k input length</b>.
            The context window is the training or claimed context length of the model.
            Instruction-tuned models are highlighted in <span style="background-color: #e3eff6;">light blue</span>, and base models are highlighted in <span style="background-color: #FEF4E4;">yellow</span>.
            Frontier models struggle significantly more at more complex tasks, such as generation-with-citations and passage re-ranking. 
            For details on the models and more results, please refer to the paper.
            You may also find the results for each dataset on <a href="https://docs.google.com/spreadsheets/d/1LBt6dP4UwZwU_CjoYhyAd_rjKhQLvo0Gq4cYUnpi_CA/edit?usp=sharing">this spreadsheet</a>.
          </p>
        </div>
        <div class="content is-9 has-text-centered">
          <div class="content has-text-justified">
            <div>
              <div id="table-container-agg"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
</section>

<section id="full_examples" class="section">
  <div class="container" style="margin-bottom: 2vh;">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 id="full_examples" class="title is-3">Data Examples</h2>
          <!-- Category buttons -->
          <div class="content has-text-justified">
            <p> Click on a category to explore the data. Note that we only show one demonstration in the examples in this viewer, while the actual data contains two in-context learning examples. We also truncate most of the text for brevity.
            </p>
          </div>
          <div class="category-buttons" style="margin-bottom: 1rem;">
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('RAG', this)">RAG</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('Recall', this)">Recall</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('Long-document QA', this)">Long-document QA</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('Passage Re-ranking', this)">Passage Re-ranking</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('Citation', this)">Citation</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('Summarization', this)">Summarization</button>
            <button class="button is-rounded is-dark category-btn" onclick="showDatasetButtons('ICL', this)">ICL</button>
          </div>

          <!-- Dataset buttons - initially hidden -->
          <div id="dataset-buttons" style="display: none; margin-bottom: 1rem;">
            <!-- RAG datasets -->
            <div class="dataset-group" id="RAG-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('NQ', this)">NQ</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('TriviaQA', this)">TriviaQA</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('HotpotQA', this)">HotpotQA</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('PopQA', this)">PopQA</button>
            </div>
            <!-- Recall datasets -->
            <div class="dataset-group" id="Recall-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('JSON KV', this)">JSON KV</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('RULER MV', this)">RULER MV</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('RULER MK UUID', this)">RULER MK UUID</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('RULER MK NEEDLE', this)">RULER MK NEEDLE</button>
            </div>
            <!-- Long-document QA datasets -->
            <div class="dataset-group" id="Long-document QA-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('NarrativeQA', this)">NarrativeQA</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('InfBench QA', this)">InfBench QA</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('InfBench MC', this)">InfBench MC</button>
            </div>
            <!-- Passage Re-ranking datasets -->
            <div class="dataset-group" id="Passage Re-ranking-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('MS MARCO', this)">MS MARCO</button>
            </div>
            <!-- Citation datasets -->
            <div class="dataset-group" id="Citation-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('ALCE ASQA', this)">ALCE ASQA</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('ALCE Qampari', this)">ALCE Qampari</button>
            </div>
            <!-- Summarization datasets -->
            <div class="dataset-group" id="Summarization-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('InfBench Summarization', this)">InfBench Summarization</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('Multi-LexSum', this)">Multi-LexSum</button>
            </div>
            <!-- ICL datasets -->
            <div class="dataset-group" id="ICL-datasets" style="display: none;">
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('TREC Coarse', this)">TREC Coarse</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('TREC Fine', this)">TREC Fine</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('NLU', this)">NLU</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('BANKING77', this)">BANKING77</button>
              <button class="button is-rounded is-dark dataset-btn" onclick="loadExample('CLINC150', this)">CLINC150</button>
            </div>
          </div>

          <div id="example_viewer" style="display: none;">
            <br>
            <h3 class="caption">
              <b>Example:</b> <span id="example_caption"></span></h3>
            <br>
            <div class="content has-text-centered">
              <pre id="example_content" style="text-align: left; white-space: pre-wrap;"></pre>
            </div>
          </div>

        <script>
          function showDatasetButtons(category, clickedButton) {
            // Remove active class from all category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
              btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            clickedButton.classList.add('active');
            
            // Show the dataset buttons container
            document.getElementById('dataset-buttons').style.display = 'block';
            
            // Hide all dataset groups
            document.querySelectorAll('.dataset-group').forEach(group => {
              group.style.display = 'none';
            });
            
            // Show the selected category's datasets
            document.getElementById(category + '-datasets').style.display = 'block';
            
            // Remove active class from all dataset buttons
            document.querySelectorAll('.dataset-btn').forEach(btn => {
              btn.classList.remove('active');
            });
          }

          async function loadExample(key, clickedButton) {
            // Remove active class from all dataset buttons
            document.querySelectorAll('.dataset-btn').forEach(btn => {
              btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            clickedButton.classList.add('active');
            
            try {
              const response = await fetch('data/examples.json');
              const data = await response.json();
              const content = data[key];
              
              document.getElementById('example_viewer').style.display = 'block';
              document.getElementById('example_caption').textContent = key;
              document.getElementById('example_content').textContent = content;
            } catch (error) {
              console.error('Error loading example:', error);
            }
          }
        </script>
      </div>
    </div>
  </div> 
</section>

<section class="section">
  <div class="container is-max-desktop content">
    <div class="columns is-centered has-text-centered">

      <h2 class="title is-3">
        <span >Citation</span>
      </h2>
    </div>

    <div class="columns is-centered">
      <div class="column is-three-fifths">
        <pre style="border-radius: 0px;">
<code>@inproceedings{yen2024helmet,
  title={HELMET: How to Evaluate Long-Context Language Models Effectively and Thoroughly}, 
  author={Howard Yen and Tianyu Gao and Minmin Hou and Ke Ding and Daniel Fleischer and Peter Izsak and Moshe Wasserblat and Danqi Chen},
  year={2025},
  booktitle={International Conference on Learning Representations (ICLR)},
}</code>
        </pre>
      </div>
    </div>

    <!-- add contacts -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Contact</h2>
        <p>For any questions or feedback, please reach out to hyen [@] cs.princeton.edu </p>
      </div>
    </div>

    <div class="columns is-centered">
      <div class="institutional-logos" style="margin-top: 2rem;">
        <div style="display: flex; flex-wrap: wrap; gap: 0px; width: 100%; justify-content: center;">
            <div style="margin: 10px 20px; display: flex; justify-content: center;">
                <a href="https://www.princeton.edu/" target="_blank" style="display: flex; justify-content: center;">
                    <img src="static/images/princeton_logo.png" alt="Princeton Logo" style="height: 90px;">
                </a>
            </div>
            <div style="margin: 10px 20px; display: flex; justify-content: center;">
                <a href="https://pli.princeton.edu/" target="_blank" style="display: flex; justify-content: center;">
                    <img src="static/images/pli_logo.svg" alt="Princeton Language and Intelligence Logo" style="height: 90px;">
                </a>
            </div>
            <div style="margin: 10px 20px; display: flex; justify-content: center;">
                <a href="https://www.intel.com/" target="_blank" style="display: flex; justify-content: center;">
                    <img src="static/images/intel_logo.png" alt="Intel Logo" style="height: 90px;">
                </a>
            </div>
        </div>
      </div>
    </div>
      
  </div>
</section>


<footer class="footer" style="padding-bottom: 1.5em; padding-top: 1.5em;">
  <div class="container">
    <div class="content has-text-centered">
      <span>Website based on <a href="https://mlpc-ucsd.github.io/TokenCompose/">TokenCompose</a>, and <a href="https://mathvista.github.io/">MathVista</a>.</span>


    </div>
  </div>
</footer>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.bundle.min.js"></script>
  <script src="./static/js/jquery.csv.min.js"></script>
  <script src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/2.0.8/js/dataTables.bulma.min.js"></script>
  <script src="./static/js/csv_to_html_table_agg.js"></script>
  <script src="./static/js/csv_to_html_table_full.js"></script>
  <script>
    CsvToHtmlTableAgg.init({
      csv_path: 'data/agg_results.csv', 
      element: 'table-container-agg', 
      csv_options: {separator: ',', delimiter: '"'},
      datatables_options: {
        "paging": false, 
        "searching": false,
        "info": false,
        "order": [[10, 'desc']],
        "columnDefs": [
          {targets: [0], className: 'dt-left', className: 'dt-head-left', className: 'fw-bold'},
          {
            targets: [1],
            render: function(data, type) {
              if (type === 'display') {
                return data.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
              }
              return data;
            }
          },
          {
            targets: [2],
            type: 'num',
            render: function(data, type) {
              if (type === 'sort') {
                return data === '?' ? Number.MAX_SAFE_INTEGER : parseFloat(data);
              }
              return data;
            }
          }
        ],
        "createdRow": function(row, data, dataIndex) {
          $(row).find('td:first').css('font-weight', 'bold');
        }
      }
    });

    // CsvToHtmlTableFull.init({
    //   csv_path: 'data/full_results.csv', 
    //   element: 'table-container-full', 
    //   csv_options: {separator: ',', delimiter: '"'},
    //   datatables_options: {
    //     "paging": false, 
    //     "searching": false,
    //     "info": false,
    //     "order": [[4, 'desc']],
    //     "scrollX": true,
    //     "scrollCollapse": false,
    //     "columnDefs": [
    //     {targets: 0, className: 'dt-left', className: 'dt-head-left', className: 'fw-bold', className: 'nowrap'},
    //     ],
    //     "createdRow": function(row, data, dataIndex) {
    //       $(row).find('td:first').css('font-weight', 'bold').css('white-space', 'nowrap');
    //     }
    //   }
    // });
  </script>
</body>
</html>
